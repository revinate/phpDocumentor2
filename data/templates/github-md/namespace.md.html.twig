{% macro elementSummary(element, type) %}
## {{ element.name|raw }}

{{ element.summary|raw }}
{% if type == 'function' %}
{% include 'method.md.html.twig' with {'method': element} %}
{% else %}
{{ element.description|raw }}
{% endif %}
{% endmacro %}

{% macro renderNamespaceDetails(node) %}
{% import _self as self %}
{% if node.classes|length > 0 or node.interfaces|length > 0 or node.traits|length > 0 or node.functions|length > 0 or node.constants|length > 0 %}
{% if node.functions|length > 0 %}
## Functions
{% for function in node.functions|sort_asc %}
{{ self.elementSummary(function, 'function') }}
{% endfor %}
{% endif %}

{% if node.constants|length > 0 %}
## Constants
{% for constant in node.constants %}
{{ self.elementSummary(constant, 'constant') }}
{% endfor %}
{% endif %}

{% if node.classes|length > 0 or node.interfaces|length > 0 or node.traits|length > 0 %}
## Classes, interfaces and traits
{% for trait in node.traits|sort_asc %}
{{ self.elementSummary(trait, 'trait') }}
{% endfor %}

{% for interface in node.interfaces|sort_asc %}
{{ self.elementSummary(interface, 'interface') }}
{% endfor %}

{% for class in node.classes|sort_asc %}
{{ self.elementSummary(class, 'class') }}
{% endfor %}
{% endif %}
{% endif %}

{% for namespace in node.children %}
{{ self.renderNamespaceDetails(namespace) }}
{% endfor %}
{% endmacro %}

{% block title %}
{{ project.title }} -- {{ node.FullyQualifiedStructuralElementName }}
{% endblock %}

{% block content %}
{% import _self as self %}
## Namespaces
{{ self.renderNamespaceDetails(node) }}
{% endblock %}
